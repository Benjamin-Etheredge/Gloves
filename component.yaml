name: Train Siemese Network
description: TODO
inputs: # List of input specs. Each input spec is a map.
- {name: train_dir}
- {name: test_dir}
- {name: all_dir}
- {name: dense_nodes, default: '1024'}
- {name: epochs, default: '100'}
- {name: batch_size, default: '32'}
- {name: lr, default: '0.00003'}
- {name: optimizer, default: 'adam'}
- {name: transfer_learning, default: 'True'} 
- {name: verbose, default: "2"}
- {name: metrics_file_name}
- {name: model_file_name}
outputs:
- {name: metrics_dir}
- {name: model_dir}
implementation:
  container:
    image: etheredgeb/gloves:latest
    command: [
      python, src/main.py, # Path of the program inside the container
    ]
    args: [
      --train_dir, {inputPath: train_dir},
      --test_dir, {inputPath: test_dir},
      --all_dir, {inputPath: all_dir},
      --dense_nodes, {inputValue: dense_nodes},
      --epochs, {inputValue: epochs},
      --batch_size, {inputValue: batch_size},
      --lr, {inputValue: lr},
      --optimizer, {inputValue: optimizer},
      --transfer_learning, {inputValue: transfer_learning},
      --verbose, {inputValue: verbose},
      --metrics_dir, {outputPath: metrics_dir},
      --metrics_file_name, {inputValue: metrics_file_name},
      --model_dir, {outputPath: model_dir},
      --model_file_name, {inputValue: model_file_name},
    ]